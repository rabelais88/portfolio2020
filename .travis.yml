matrix:
  include:
    - language: go
      go:
        - "1.14"
      before_script:
        - cd api
      script: go test -v ./...
      services:
        - docker
      before_deploy:
        - cd api
      deploy:
        provider: script
        script: bash build-n-push.sh
        on:
          branch: master
    - langauge: node
      node:
        - "14.4.0"
      services:
        - docker
      before_deploy:
        - cd front-www
      deploy:
        provider: script
        script: bash build-n-push.sh
        on:
          branch: master
    - langauge: node
      node:
        - "14.4.0"
      services:
        - docker
      before_deploy:
        - cd front-admin
      deploy:
        provider: script
        script: bash build-n-push.sh
        on:
          branch: master
    # multiple CIs are allowed
    # - language: ...